define(["knockout","validation","validationConfig"],function(e){return function(){var t=this;t.sku=e.observable().extend({required:{message:"产品款号不能为空"},pattern:{message:"款号只能是字母,数字,_,-,#组合",params:"^[a-zA-Z0-9_#-]+$"}}),t.quantity=e.observable(1).extend({required:{message:"数量不能为空"},number:{message:"数量必须位数字"},min:{params:1,message:"数量必须大于1"}}),t.price=e.observable().extend({required:{message:"零售价不能为空"},number:{message:"零售价必须为数字"}}),t.remark=e.observable(),t.reset=function(){var n=e.validatedObservable(t);t.sku(""),t.quantity(1),t.price(""),t.remark(""),n.errors.showAllMessages(!1)},t.submitTo=function(n){if(t.sku.isValidating())return $("#submitTo").button("loading"),setTimeout(function(){t.submitTo(n)},50),!1;$("#submitTo").button("reset");var r=e.validatedObservable(this);r.isValid()?(n.addItem(this),t.reset()):r.errors.showAllMessages()}}});