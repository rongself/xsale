define(["knockout","knockoutMapping","formPost","message","validation","validationConfig"],function(e,t,n,r){return function(){var i=this;i.password=e.observable().extend({required:{message:"请输入原密码"}}),i.newPassword=e.observable().extend({required:{message:"请输入密码"}}),i.confirm=e.observable().extend({required:{message:"请再次输入密码"},areSame:i.newPassword}),i.reset=function(){i.newPassword(""),i.password(""),i.confirm("")},i.submitAndContinue=function(e){var s=t.toJSON(i);n.submit({viewModel:i,url:"/account/change-password",data:{password:s},success:function(){i.reset(),r.success("保存成功"),typeof e=="function"&&e()}})},i.submit=function(){i.submitAndContinue(function(){location.href="/account/index"})}}});