define(["knockout","knockoutMapping","formPost","message","viewmodel/abstract","validation","validationConfig"],function(e,t,n,r,i){return function(){i.call(this);var s=this;s.id=e.observable(),s.newPassword=e.observable().extend({required:{message:"请输入密码"}}),s.confirm=e.observable().extend({required:{message:"请再次输入密码"},areSame:s.newPassword}),s.reset=function(){s.newPassword(""),s.confirm("")},s.submitAndContinue=function(e){var i=t.toJSON(s);n.submit({viewModel:s,url:"/account/reset-password",data:{password:i},success:function(){s.reset(),r.success("保存成功"),typeof e=="function"&&e()}})},s.submit=function(){s.submitAndContinue(function(){location.href="/account/index"})},s.setDefaultValue()}});