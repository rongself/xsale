require(["knockout","viewmodel/stockRecord","viewmodel/stockProduct","module/sku.autocomplete","module/image.uploader","message","module/number","datetimepicker","underscore","lib/json2"],function(e,t,n,r,i,s){var o=new t,u=new n(o);o.init(),o.editItem=function(e){if(!u.sku()){o.removeItem(e),u.sku(e.sku()),u.name(e.name()),u.cost(e.cost()),u.stock(e.stock());var t=e.pictures();for(key in t)console.log(t[key]),u.pictures.push(t[key]);u.price(e.price()),u.description(e.description())}else s.info("请先保存或清空正在添加的产品")},$("#startTime").datetimepicker({pickTime:!1,language:"zh-CN"}),$("#startTime").on("dp.change",function(e){o.stockTime(moment(e.date).format("YYYY-MM-DD"))});var a=new i({observableArray:u.pictures}),f=new r(function(e,t){var n=_.find(t,function(t){return t.sku==e});return u.name(n.name),u.cost(n.cost),u.pictures.removeAll(),u.price(n.price),u.description(n.description),$("#quantity").focus(),e});$(function(){e.applyBindings(u,$("#stockProduct").get(0)),e.applyBindings(o,$("#stockRecord").get(0)),e.applyBindings(o,$("#stockRecordSubmit").get(0)),e.applyBindings(o,$("#recordInfo").get(0))})});