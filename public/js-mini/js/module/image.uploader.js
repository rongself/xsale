define(["knockout","lib/jquery.fileupload"],function(e){return function(e){var t={observableArray:"",url:"/FileUploader/image-uploader"};e=$.extend(t,e);var n=this;$("[data-file-upload]").fileupload({url:e.url,dataType:"json",done:function(t,n){e.observableArray!=""&&$.each(n.files,function(t,n){e.observableArray.push(n.name)})},progressall:function(e,t){var n=parseInt(t.loaded/t.total*100,10);$("#progress .progress-bar").css("width",0).css("width",n+"%")}}).prop("disabled",!$.support.fileInput).parent().addClass($.support.fileInput?undefined:"disabled"),$(document).on({mouseenter:function(e){return $(this).prev().removeClass("dp-none"),!1}},".product-picture"),$(document).on({mouseleave:function(e){return $(this).addClass("dp-none"),!1}},".del-btn")}});